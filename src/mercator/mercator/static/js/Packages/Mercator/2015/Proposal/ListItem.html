<a
    data-ng-href="{{ path | adhResourceUrl }}"
    data-ng-class="{
        'has-rosette': data.winnerBadgeAssignment.name === 'winning' || data.winnerBadgeAssignment.name === 'community',
        'm-winner': data.winnerBadgeAssignment.name === 'winning',
        'm-community-award': data.winnerBadgeAssignment.name === 'community'
    }"
    class="proposal-list-item m-contains-image {{ selectedState }}">
    <adh-show-image
        data-css-class="proposal-list-item-image"
        data-path="{{data.introduction.picture}}"
        data-format="thumbnail"
        data-image-metadata-nick="adhocracy_mercator.sheets.mercator.IIntroImageMetadata"
    ></adh-show-image>
    <div class="proposal-list-item-body">
        <p class="proposal-list-item-username">
            {{data.user_info.first_name}}<span data-ng-if="data.organization_info.name">,
                {{data.organization_info.name}}
            </span>
        </p>
        <h3 class="proposal-list-item-title">{{ data.title.title }}</h3>
        <ul class="meta-list proposal-list-item-meta-list">
            <li class="meta-list-item meta-list-item-date">
                <adh-time data-datetime="data.user_info.createtime" data-format="D/M/YYYY"></adh-time>
            </li>
            <li class="meta-list-item meta-list-item-total-comments">
                <i class="icon-speechbubbles"></i>
                {{ data.commentCountTotal }} <span class="print-only" aria-hidden="true">{{ "TR__COMMENTS_TOTAL" | translate }}</span>
            </li>
            <li data-ng-if="data.currentPhase && data.currentPhase != 'result'" class="meta-list-item meta-list-item-supporters">
                <i class="icon-pointy-rectangle-left"></i>
                {{ data.supporterCount }}
                {{ "TR__SUPPORTERS" | translate }}
            </li>
            <li data-ng-if="data.currentPhase && data.currentPhase != 'result'" class="meta-list-item meta-list-item-budget">
                {{ data.finance.requested_funding | number }} &euro; <span class="print-only" aria-hidden="true">{{ "TR__MERCATOR_PROPOSAL_REQUESTED_FUNDING" | translate }}</span>
            </li>
            <li data-ng-if="data.winnerBadgeAssignment.name === 'winning'" class="meta-list-item meta-list-item-badge">
                <span class="badge m-winner">{{ "TR__MERCATOR_BADGE_WINNERS" | translate }}</span>
            </li>
            <li data-ng-if="data.winnerBadgeAssignment.name === 'community'" class="meta-list-item meta-list-item-badge">
                <span class="badge m-community-award">{{ "TR__MERCATOR_BADGE_COMMUNITY_AWARD" | translate }}</span>
            </li>
            <li data-ng-if="data.winnerBadgeAssignment.name === 'shortlist'" class="meta-list-item meta-list-item-badge">
                <span class="badge m-shortlist">{{ "TR__MERCATOR_BADGE_SHORTLIST" | translate }}</span>
            </li>
        </ul>
    </div>
</a>
